
  
document.addEventListener('DOMContentLoaded', () => {
    console.log('ui starting');

    // Initialize MDC components
    const select = new mdc.select.MDCSelect(document.querySelector('.mdc-select'));
    document.querySelectorAll('.mdc-text-field').forEach(field => {
        new mdc.textField.MDCTextField(field);
    });
    // archive
    document.getElementById('archiveButton').addEventListener('click', showArchiveConfirmation);

    // Handle value changes with improved listener
    const inputField = document.getElementById('classYearlevelInput');
    if (inputField) {
        inputField.value = select.value; // Set initial value
        select.listen('MDCSelect:change', () => {
            inputField.value = select.value; // Update on change
        });
    } else {
        console.error('Input field not found');
    }

    // Menu/Button handlers
    document.getElementById('classesNavItem').addEventListener('click', loadClasses);
    document.querySelector('.gc-create-class').addEventListener('click', showCreateClassModal);

    // Apps menu toggle
    document.querySelector('.google-apps-menu').addEventListener('click', toggleAppsList);

    // Close expanded view
    document.querySelector('.gc-expanded-back-button').addEventListener('click', closeExpandedView);
    console.log('before loadClasses');
    // populateYearOptions();
    loadClasses();
});

// Export functions used in HTML attributes
window.toggleAppsList = toggleAppsList;
window.showCreateClassModal = showCreateClassModal;
